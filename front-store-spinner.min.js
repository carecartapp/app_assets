!function(){var e,t,r=new Date,n=(r.getSeconds(),"https://tracking-app-sas.carecart.io/"),o="https://cdn.jsdelivr.net/gh/carecartapp/app_assets@1.6.5/",a=!1;function i(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}e=o+"front-store-spinner.css?v=1.5.7",(t=document.createElement("link")).href=e,t.type="text/css",t.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(t),setTimeout(function(){var e,t,s;e=o+"spinner.js?v=1.5.7",t=function(){function e(){var e,t,r,n,a,i,s,c,l,u,d,p,h,m,g,f,w,y,S,b,v,C,T,x,A,_,E,q,J,k,I,N,D,M,O,F,P,B,z,R,W,j,G,Y,L="http://www.w3.org/2000/svg",V="http://www.w3.org/1999/xlink",U=function(e){return document.querySelector(e)},H=this,X=U(".wheelSVG"),$=U(".wheel"),Z=U(".wheelOutline"),K=U(".wheelContainer"),Q=U(".peg"),ee=U(".pegContainer"),te=U(".mainContainer"),re=U(".valueContainer"),ne=U(".centerCircle"),oe=U(".toast"),ae=U(".toast p"),ie=0,se=0,ce=2,le=0,ue=0,de=ue,pe=[],he=null,me=[],ge=!0,fe=null,we=!1,ye=function(){n=e.wheelStrokeColor,i=e.wheelSize,s=i/2,c=e.wheelTextColor,n=e.wheelStrokeColor,a=e.wheelStrokeWidth,l=e.wheelTextOffsetY,u=e.wheelImageOffsetY,p=e.wheelImageSize,d=e.wheelTextSize,g=e.centerCircleStrokeColor,f=e.centerCircleStrokeWidth,w=e.centerCircleFillColor,y=e.centerCircleSize,S=y/2,b=e.segmentStrokeColor,v=e.segmentStrokeWidth,C=e.segmentValuesArray,T=C.length,x=-1==e.numSpins?1e16:parseInt(e.numSpins),I=e.minSpinDuration,N=e.gameOverText,D=e.invalidSpinText,M=e.introText,F=e.hasSound,O=e.gameId,B=e.clickToSpin,_=(A=360/T)/2,q=e.centerX,J=e.centerY,k=e.colorArray,P=e.hasShadows,G=e.spinDestinationArray,P&&(Z.setAttributeNS(null,"filter","url(#shadow)"),re.setAttributeNS(null,"filter","url(#shadow)"),ne.setAttributeNS(null,"filter","url(#shadow)"),ee.setAttributeNS(null,"filter","url(#shadow)"),oe.style.boxShadow="0px 0px 20px rgba(21,21,21,0.5)")},Se=function(){TweenMax.set("#spin_a_sale_cc_store_front_module svg",{visibility:"visible"}),TweenMax.set($,{svgOrigin:q+" "+J,x:0,y:0}),TweenMax.set(Q,{x:q-Q.getBBox().width/2,y:J-s-Q.getBBox().height/2,transformOrigin:"50% 25%",visibility:"visible"}),TweenMax.set(ee,{transformOrigin:"50% 100%",scale:i/600}),TweenMax.set(te,{svgOrigin:q+" "+J,rotation:-90,x:0,y:0}),TweenMax.set([oe],{xPercent:-50,left:"50%"}),TweenMax.set("#spin_a_sale_cc_store_front_module svg",{xPercent:-50,left:"50%"})},be=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},ve=function(){for(var e=0;e<T;e++){var t=document.createElementNS(L,"line");t.setAttributeNS(null,"x1",q),t.setAttributeNS(null,"x2",pe[e].x2),t.setAttributeNS(null,"y1",J),t.setAttributeNS(null,"y2",pe[e].y2),t.setAttributeNS(null,"stroke",b),t.setAttributeNS(null,"stroke-width",v),$.appendChild(t),TweenMax.set(t,{svgOrigin:q+" "+J,rotation:e*A})}},Ce=function(){var e=document.createElementNS(L,"g"),t=document.createElementNS(L,"image");e.appendChild(t),t.setAttribute("class","wheelLogo"),t.setAttributeNS(null,"x",q-60),t.setAttributeNS(null,"y",J-60),t.setAttributeNS(V,"xlink:href",o+"cc_spinner_app_icon.png"),t.setAttributeNS(null,"width",120),t.setAttributeNS(null,"height",120),re.appendChild(e);for(var r=0;r<T;r++){var n=document.createElementNS(L,"g");if("image"==C[r].type)t=document.createElementNS(L,"image"),n.appendChild(t),t.setAttribute("class","wheelImage"),t.setAttributeNS(null,"x",q-p/2),t.setAttributeNS(null,"y",J-s+u),t.setAttributeNS(null,"width",p),t.setAttributeNS(null,"height",p),t.setAttributeNS(V,"xlink:href",C[r].value);else if("string"==C[r].type){var a,i,h=document.createElementNS(L,"text");C[r].value.split("^").forEach(function(e,t){a=document.createTextNode(e),(i=document.createElementNS(L,"tspan")).setAttributeNS(null,"dy",t?"1.2em":0),i.setAttributeNS(null,"x",q),i.setAttributeNS(null,"text-anchor","middle"),i.appendChild(a),h.appendChild(i)}),n.appendChild(h),h.setAttribute("class","wheelText"),h.setAttributeNS(null,"fill",c),h.setAttributeNS(null,"x",q),h.setAttributeNS(null,"y",J-s+l),h.setAttributeNS(null,"transform","rotate(-90, 590, -2)"),h.setAttributeNS(null,"text-anchor","middle"),h.style.fontSize=d}re.appendChild(n),TweenMax.set(n,{svgOrigin:q+" "+J,rotation:r*A})}TweenMax.set(re,{svgOrigin:q+" "+J})},Te=function(){var e=document.createElementNS(L,"g"),t=document.createElementNS(L,"circle");return Z.appendChild(e),t.setAttributeNS(null,"fill","transparent"),t.setAttributeNS(null,"stroke",n),t.setAttributeNS(null,"stroke-width",a),t.setAttributeNS(null,"cx",q),t.setAttributeNS(null,"cy",J),t.setAttributeNS(null,"r",s),e.appendChild(t),e},xe=function(){null.play()},Ae=function(){oe.style.visibility="hidden"},_e=function(){oe.style.visibility="hidden",he.onclick=null,ce+=2},Ee=function(){disableWheel(),ge&&(j=VelocityTracker.track($,"rotation"))},qe=function(e){if(E=ie,(ie=Math.round($._gsTransform.rotation/A))!=E){var t=ie>E?-35:35;TweenMax.fromTo(Q,.2,{rotation:t},{onStart:F?xe:null,rotation:0,ease:Back.easeOut})}TweenMax.set(re,{rotation:$._gsTransform.rotation})},Je=function(){m=$._gsTransform.rotation;var e=Math.round(m%360);if(e=(e=e>0?360-e:e)<0?e*=-1:e,j&&j.getVelocity("rotation")<=.5)return enableWheel(),void showResult("invalidSpin");var t=Math.round(e/A);if(pe[t].path,showResult(Math.abs(t)),ge){if(!(x>-1))return;se++}else se++,h[0].vars.snap=[G[se]];VelocityTracker.untrack($),se>=x?endGame():enableWheel()},ke=function(){var e;h=Draggable.create($,{type:"rotation",bounds:{minRotation:-1e16,maxRotation:0},throwProps:!0,ease:Back.easeOut.config(.2),snap:ge?(e=0,function(t){return Math.round(t/A)*A-e}):[G[se]],throwResistance:0,minDuration:I,onThrowComplete:Je,onPress:Ae,onDrag:qe,onThrowUpdate:qe,overshootTolerance:1,onDragEnd:Ee})},Ie=function(){var e=0;C.forEach(function(t,r){e+=t.probability}),Y=e,Math.ceil(e)==Y||Math.floor(e)==Y?createProbabilityArray():1==confirm("Total probability: "+e+" - If you have set JSON probability values they must add up to 100")&&(TweenMax.set(K,{autoAlpha:0}),TweenMax.set(K,{autoAlpha:0}))};createProbabilityArray=function(){fe=[],C.forEach(function(e,t){for(var r=0;r<e.probability;r++)fe.push(t)})},showProbabilityError=function(){},createClickToSpin=function(){we=!0,C.forEach(function(e,t){isNaN(e.probability)&&(we=!1)}),void(we&&(G=[],x=-1==e.numSpins?1e16:parseInt(e.numSpins),Ie()))&&createProbabilityArray(),he?he.onclick=getTrigger():(he=$,$.onclick=getTrigger())},getTrigger=function(){return function(){var e,t;we?ThrowPropsPlugin.to($,{throwProps:{rotation:{velocity:be(-700,-500),end:(e=Math.floor(Math.random()*fe.length),t=fe[e],-A*t-1080*ce)}},onStart:_e,onUpdate:qe,ease:Back.easeOut.config(.2),overshootTolerance:0,onComplete:spinComplete}):ThrowPropsPlugin.to($,{throwProps:{rotation:{velocity:be(-700,-500),end:ge?-A*be(0,T)-1080*ce:[G[se]]}},onStart:_e,onUpdate:qe,ease:Back.easeOut.config(.2),overshootTolerance:0,onComplete:spinComplete})}},spinComplete=function(){m=$._gsTransform.rotation;var e=Math.round(m%360);e=(e=e>0?360-e:e)<0?e*=-1:e;var t=Math.round(e/A);if(pe[t].path,showResult(Math.abs(t)),ge){if(!(x>-1))return;se++}else se++;se>=x?endGame():he.onclick=getTrigger()},endGame=function(){disableWheel(),TweenMax.set(X,{alpha:.3}),TweenMax.to(ae,1,{text:N,ease:Linear.easeNone,delay:2}),R({gameId:O,target:H,results:me})},disableWheel=function(){B||h[0].disable()},enableWheel=function(){B||h[0].enable()},showResult=function(e){var t;if(B||h[0].applyBounds({minRotation:-1e16,maxRotation:m}),"invalidSpin"==e)return TweenMax.set($,{rotation:G[se]}),showToast(D),W(t={target:H,type:"error",spinCount:se,win:null,msg:D,gameId:O}),void me.push(t);if(!isNaN(e)){var r=C[e].resultText;showToast(r),t={target:H,type:"result",spinCount:se,win:C[e].win,msg:C[e].resultText,gameId:O,userData:C[e].userData},z(t),me.push(t)}},showIntroText=function(e){showToast(M)},showInitError=function(e){TweenMax.set([X,Q],{visibility:"hidden"}),alert(e)},showToast=function(e){oe.style.visibility="visible",oe.style.backgroundColor="#E81D62",ae.innerHTML=e,TweenMax.fromTo(oe,.6,{y:20,alpha:0},{y:0,alpha:1,delay:.2,onStart:onresize,ease:Elastic.easeOut.config(.7,.7)})},checkNumSegments=function(){T<=1&&(showInitError("Not enough segments. Please add more entries to segmentValuesArray"),TweenMax.set(X,{visibility:"hidden"}),oe.style.backgroundColor="red")},setSpinTrigger=function(){he&&(B=!0),B&&(he?he.onclick=getTrigger():$.onclick=getTrigger())},z=function(e){H.onResult(e)},W=function(e){H.onError(e)},R=function(e){H.onGameEnd(e)},this.onResult=z,this.onError=W,this.onGameEnd=R,this.getGameProgress=function(){return me},this.init=function(n){if(!n)return Se(),void showInitError("PLEASE INCLUDE THE INIT OBJECT");t=n.data.svgWidth,r=n.data.svgHeight,X.setAttribute("viewBox","0 0 "+t+" "+n.data.svgHeight),e=n.data,R=n.onGameEnd?n.onGameEnd:function(){},z=n.onResult?n.onResult:function(){},W=n.onError?n.onError:function(){},he=n.spinTrigger?n.spinTrigger:null,setSpinTrigger(),ye(),Se(),function(){for(var e,t,r,n,o,a,i,c,l=0;l<T;l++)de=(ue=-_)+A,e=q+s*Math.cos(Math.PI*ue/180),r=J+s*Math.sin(Math.PI*ue/180),t=q+s*Math.cos(Math.PI*de/180),n=J+s*Math.sin(Math.PI*de/180),o="M"+q+","+J+"  L"+e+","+r+"  A"+s+","+s+" 0 0,1 "+t+","+n+"z",i=document.createElementNS(L,"g"),a=document.createElementNS(L,"path"),i.appendChild(a),$.appendChild(i),TweenMax.set(a,{rotation:l*A,svgOrigin:q+" "+J}),a.setAttributeNS(null,"d",o),k[l]?c=k[l]:(c=k[le],++le==k.length&&(le=0)),a.setAttributeNS(null,"fill",c),a.setAttributeNS(null,"stroke",0),pe.push({path:a,x1:e,x2:t,y1:r,y2:n});v>0&&ve(),Ce()}(),Z.appendChild(Te()),ne.appendChild(function(){var e=document.createElementNS(L,"circle");return e.setAttributeNS(null,"fill",w),e.setAttributeNS(null,"stroke",g),e.setAttributeNS(null,"stroke-width",f),e.setAttributeNS(null,"cx",q),e.setAttributeNS(null,"cy",J),e.setAttributeNS(null,"r",S),e}()),function(){if(0!=x){if(!we){if(G.length>0){ge=!1,x=G.length;for(var e=0;e<G.length;e++){if(G[e]>T||0===G[e])return showInitError("Invalid destination set - please ensure the destination in spinDestinationArray is greater than 0 and less than or equal to the number of segments"),void(oe.style.backgroundColor="red");G[e]=G[e]-1,G[e]=-1*G[e]*A-1080*ce,ce+=2}}B?createClickToSpin():ke(),showIntroText()}}else showInitError("numSpins MUST BE GREATER THAN 0")}(),checkNumSegments()},window.onresize=function(){var e=J-r/2,t=(parseFloat(getComputedStyle(X).width),parseFloat(getComputedStyle(X).height)),n=(parseFloat(getComputedStyle(oe).width),parseFloat(getComputedStyle(oe).height));TweenMax.set(".toast",{y:(t+e)/2-n/2})},this.restart=function(){B||(h[0].kill(),ie=E=null,TweenMax.to([$,re],.3,{rotation:"0_short",onComplete:ke})),TweenMax.set(X,{alpha:1}),TweenMax.to([$,re],.3,{rotation:"0_short"}),oe.style.visibility="hidden",se=0,ce=2,me=[],showIntroText()}}function t(e){var t=carecartJquery(".winContainer"),r=carecartJquery(".loseContainer"),o=carecartJquery(".signupContainer"),a=carecartJquery(".win_text"),i=carecartJquery(".coupon");!function(e=null,t=null){var r=carecartJquery("#cc-spinner-full-name").val(),o=carecartJquery("#cc-spinner-email").val(),a=1==carecartJquery("#cc-spin-a-sale-consent-checkbox").prop("checked")?"consent_accepted":"consent_rejected",i={name:r,email:o,isConsent:a,couponUsed:e,winResult:t};console.log(i),carecartJquery.ajax({url:n+"store-front-api/post-customer-information",type:"POST",data:{shop:Shopify.shop,customerInformation:i},crossDomain:!0,dataType:"json",success:function(e){e.result&&(p(),console.log("User information is post successfully"),console.log(error))},error:function(e){console.log("Error in impression post"),console.log(e)}})}(e.results[0].userData.coupon,e.results[0].msg),window.localStorage.setItem("cc-sas-spinner-cached-coupon-code",e.results[0].userData.coupon),window.localStorage.setItem("cc-sas-spinner-cached-coupon-code-message",e.results[0].msg),e.results[0].userData.coupon?(o.fadeOut(),a.text(e.results[0].msg),i.text(e.results[0].userData.coupon),t.find("input").val(e.results[0].userData.coupon),t.css({paddingTop:(carecartJquery(window).height()-t.height())/2}),carecartJquery(window).resize(function(){t.css({})}),t.fadeIn()):(o.fadeOut(),a.text(e.results[0].msg),t.css({paddingTop:(carecartJquery(window).height()-t.height())/2}),carecartJquery(window).resize(function(){t.css({})}),r.fadeIn())}function s(e){var t=carecartJquery(".winContainer"),r=carecartJquery(".loseContainer"),n=carecartJquery(".signupContainer"),o=carecartJquery(".win_text"),a=carecartJquery(".coupon");e.results[0].userData.coupon?(n.fadeOut(),o.text(e.results[0].msg),a.text(e.results[0].userData.coupon),t.find("input").val(e.results[0].userData.coupon),t.css({paddingTop:(carecartJquery(window).height()-t.height())/2}),carecartJquery(window).resize(function(){t.css({})}),t.fadeIn()):(n.fadeOut(),o.text(e.results[0].msg),t.css({paddingTop:(carecartJquery(window).height()-t.height())/2}),carecartJquery(window).resize(function(){t.css({})}),r.fadeIn())}function c(e){return!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function l(r=""){var o;r&&"triggered"==r?carecartJquery("body").find("#spin_a_sale_cc_store_front_module").fadeIn():d()&&carecartJquery("body").find("#spin_a_sale_cc_store_front_module").fadeIn(),o=document.querySelector(".btn-submit-form-ok"),(new e).init({data:a,onGameEnd:t,spinTrigger:o}),function(){function e(){var e=carecartJquery(window).width();e<680&&(t.css({width:"100%",padding:0}),r.css({width:"100%",padding:0}),n.css({width:"100%",position:"fixed",bottom:"-30%",left:0,right:0,transform:"translate(-51%)"}),o.css({width:"100%",transform:"translateX(0)"}),a.css({maxWidth:"370"})),e<400&&n.css({bottom:"-23%"}),e>=680&&t.css({paddingTop:(carecartJquery(window).height()-t.height())/2})}var t=carecartJquery(".signupContainer"),r=carecartJquery(".winContainer"),n=carecartJquery(".wheelContainer"),o=carecartJquery(".wheelSVG"),a=carecartJquery(".form-group input"),i=carecartJquery(".btn-submit-form"),s=carecartJquery("#cc-spinner-full-name"),l=carecartJquery("#cc-spinner-email"),u=carecartJquery("input[name='coupon']");carecartJquery(".copy-button").click(function(){clipboard.writeText(u.val()),carecartJquery(this).html('<i class="fa fa-clone" aria-hidden="true"></i> Copied')}),e(),carecartJquery(window).resize(function(){e()}),i.click(function(e){e.preventDefault();var t=s.val(),r=l.val(),n=carecartJquery(".textInfo"),o=(carecartJquery(".btn-submit-form"),carecartJquery(".btn-submit-form-ok"));return n.text(""),""==t?(n.text("You should provide your fullname!"),n.addClass("animated shake"),void setTimeout(function(){n.removeClass("animated shake")},1e3)):""==r?(n.text("You should provide your email"),n.addClass("animated shake"),void setTimeout(function(){n.removeClass("animated shake")},1e3)):c(r)?(n.text("Your email is not valid format"),n.addClass("animated shake"),void setTimeout(function(){n.removeClass("animated shake")},1e3)):o.click()})}(),function(){const e=window.localStorage.getItem("cc-sas-spinner-impressions-info-cached-time");console.log("prevTime impressions cache : "+e);var t=parseInt(e)+6e5;if(null!=e)return console.log(e+"asdasdas"+t+"dsdad"+Date.now()),t<=Date.now();return!0}()&&carecartJquery.ajax({url:n+"store-front-api/post-impression-information",type:"POST",data:{shop:Shopify.shop,postImpression:"postImpression"},crossDomain:!0,dataType:"json",success:function(e){window.localStorage.setItem("cc-sas-spinner-impressions-info-cached-time",Date.now()),console.log("postImpressionsInfo cache updated"),e.result&&(console.log("Impression is post successfully"),console.log(error))},error:function(e){console.log("Error in impression post"),console.log(e)}})}function u(e){console.log("SAS AJAX Success "),e&&e._metadata&&e._metadata.outcome&&"SUCCESS"==e._metadata.outcome?(console.log("SAS Success Response"),e.records&&e.records.store_settings&&e.records.store_settings.is_active&&(console.log("SAS is active"),e.records.store_front_template&&(console.log("SAS front template exist"),carecartJquery("body").append(e.records.store_front_template),e.records.store_settings.settings_data.is_triggered_enable&&1==parseInt(e.records.store_settings.settings_data.is_triggered_enable)&&carecartJquery("body").append(e.records.store_front_trigger_button),setTimeout(function(){a={colorArray:["#364C62","#F1C40F","#E67E22","#E74C3C","#95A5A6","#16A085","#27AE60","#2980B9","#8E44AD","#2C3E50","#F39C12","#D35400","#C0392B","#1ABC9C","#2ECC71","#E87AC2","#3498DB","#9B59B6","#7F8C8D"],segmentValuesArray:e.records.store_slices,svgWidth:1024,svgHeight:768,wheelStrokeColor:"#D0BD0C",wheelStrokeWidth:20,wheelSize:1024,wheelTextOffsetY:60,wheelTextColor:"#FFFFFF",wheelTextSize:"30px",wheelImageOffsetY:100,wheelImageSize:200,centerCircleSize:220,centerCircleStrokeColor:"#F1DC15",centerCircleStrokeWidth:12,centerCircleFillColor:"#EDEDED",segmentStrokeColor:"#E2E2E2",segmentStrokeWidth:3,centerX:512,centerY:384,hasShadows:!0,numSpins:1,spinDestinationArray:[],minSpinDuration:6,gameOverText:"",invalidSpinText:"INVALID SPIN. PLEASE SPIN AGAIN.",introText:"",hasSound:!1,gameId:"9a0232ec06bc431114e2a7f3aea03bbe2164f1aa",clickToSpin:!0}},500),setTimeout(function(){l("auto")},1e3*parseInt(e.records.store_settings.settings_data.delay_time))))):console.log("Spin A Sale is Disable")}function d(){var e=window.localStorage.getItem("cc-sas-spinner-cached-time");if(null!=e){var t=new Date,r=new Date(e),n=parseInt(t-r),o=parseInt(Math.floor(n/6e4));if(console.log(" Time : "+o),o<=30)return!1}return!0}function p(){var e=new Date;window.localStorage.setItem("cc-sas-spinner-cached-time",e)}i("cc-show-spin-a-sale-test")||(!function(){var e=window.localStorage.getItem("cc-sas-spinner-ajax-cached-time"),t=window.localStorage.getItem("cc-sas-spinner-ajax-cached-data");if(null!=e&&null!=t){console.log("Settings cached data exist ");var n=new Date(e),o=parseInt(r-n),a=parseInt(Math.floor(o/6e4));if(console.log("Settings cached Time : "+a),a<=30)return console.log("Get settings from cached data"),console.log("Remaining time: "+(30-a)),!0}return!1}()?carecartJquery.ajax({url:n+"store-front-api/get-store-information",type:"GET",data:{shop:Shopify.shop},crossDomain:!0,contentType:"application/json",dataType:"json",success:function(e){window.localStorage.setItem("cc-sas-spinner-ajax-cached-time",r),window.localStorage.setItem("cc-sas-spinner-ajax-cached-data",JSON.stringify(e)),u(e)},error:function(e){console.log("Error in Spin A Sale request"),console.log(e)}}):(console.log("In Cached Data:"),u(JSON.parse(window.localStorage.getItem("cc-sas-spinner-ajax-cached-data"))))),carecartJquery("body").on("click","#spin_a_sale_cc_store_front_module_close_button",function(){i("cc-show-spin-a-sale-test")||p(),carecartJquery("body").find("#spin_a_sale_cc_store_front_module").fadeOut()}),carecartJquery("body").on("click","#spin-trigger-cc",function(){if(l("triggered"),!d()){var e=carecartJquery(".winContainer"),t=carecartJquery(".wheelContainer"),r=carecartJquery(".loseContainer"),n=carecartJquery(".signupContainer"),o=carecartJquery(".win_text"),a=carecartJquery(".coupon"),i=window.localStorage.getItem("cc-sas-spinner-cached-coupon-code"),s=window.localStorage.getItem("cc-sas-spinner-cached-coupon-code-message");if(i&&s)return i?(n.fadeOut(),o.text(s),a.text(i),e.find("input").val(i),e.css({paddingTop:(carecartJquery(window).height()-e.height())/2}),carecartJquery(window).resize(function(){e.css({})}),e.fadeIn(),t.css("opacity","0.3")):(n.fadeOut(),o.text(s),e.css({paddingTop:(carecartJquery(window).height()-e.height())/2}),carecartJquery(window).resize(function(){e.css({})}),r.fadeIn()),void carecartJquery("body").find("#spin_a_sale_cc_store_front_module").fadeIn()}}),i("cc-show-spin-a-sale-test")&&carecartJquery.ajax({url:n+"store-front-api/get-store-information",type:"GET",data:{shop:Shopify.shop,type:"test_spinner"},crossDomain:!0,contentType:"application/json",dataType:"json",success:function(t){console.log("SAS test on store Success "),t&&t._metadata&&t._metadata.outcome&&"SUCCESS"==t._metadata.outcome?(console.log("SAS TEST Success Response"),t.records.store_front_template&&(console.log("SAS front template exist"),carecartJquery("body").append(t.records.store_front_template),setTimeout(function(){a={colorArray:["#364C62","#F1C40F","#E67E22","#E74C3C","#95A5A6","#16A085","#27AE60","#2980B9","#8E44AD","#2C3E50","#F39C12","#D35400","#C0392B","#1ABC9C","#2ECC71","#E87AC2","#3498DB","#9B59B6","#7F8C8D"],segmentValuesArray:t.records.store_slices,svgWidth:1024,svgHeight:768,wheelStrokeColor:"#D0BD0C",wheelStrokeWidth:20,wheelSize:1024,wheelTextOffsetY:60,wheelTextColor:"#FFFFFF",wheelTextSize:"30px",wheelImageOffsetY:100,wheelImageSize:200,centerCircleSize:220,centerCircleStrokeColor:"#F1DC15",centerCircleStrokeWidth:12,centerCircleFillColor:"#EDEDED",segmentStrokeColor:"#E2E2E2",segmentStrokeWidth:3,centerX:512,centerY:384,hasShadows:!0,numSpins:1,spinDestinationArray:[],minSpinDuration:6,gameOverText:"",invalidSpinText:"INVALID SPIN. PLEASE SPIN AGAIN.",introText:"",hasSound:!1,gameId:"9a0232ec06bc431114e2a7f3aea03bbe2164f1aa",clickToSpin:!0},carecartJquery("body").find("#spin_a_sale_cc_store_front_module").show(1e3);var r=document.querySelector(".btn-submit-form-ok");function n(){var e=carecartJquery(window).width();e<680&&(o.css({width:"100%",padding:0}),i.css({width:"100%",padding:0}),l.css({width:"100%",position:"fixed",bottom:"-30%",left:0,right:0,transform:"translate(-51%)"}),u.css({width:"100%",transform:"translateX(0)"}),d.css({maxWidth:"370"})),e<400&&l.css({bottom:"-23%"}),e>=680&&o.css({paddingTop:(carecartJquery(window).height()-o.height())/2})}(new e).init({data:a,onGameEnd:s,spinTrigger:r});var o=carecartJquery(".signupContainer"),i=carecartJquery(".winContainer"),l=carecartJquery(".wheelContainer"),u=carecartJquery(".wheelSVG"),d=carecartJquery(".form-group input"),p=carecartJquery(".btn-submit-form"),h=carecartJquery("#cc-spinner-full-name"),m=carecartJquery("#cc-spinner-email"),g=carecartJquery("input[name='coupon']");carecartJquery(".copy-button").click(function(){clipboard.writeText(g.val()),carecartJquery(this).html('<i class="fa fa-clone" aria-hidden="true"></i> Copied')}),n(),carecartJquery(window).resize(function(){n()}),p.click(function(e){e.preventDefault();var t=h.val(),r=m.val(),n=carecartJquery(".textInfo"),o=(carecartJquery(".btn-submit-form"),carecartJquery(".btn-submit-form-ok"));return""==t?(n.text("You should provide your fullname!"),n.addClass("animated shake"),void setTimeout(function(){n.removeClass("animated shake")},1e3)):""==r?(n.text("You should provide your email"),n.addClass("animated shake"),void setTimeout(function(){n.removeClass("animated shake")},1e3)):c(r)?(n.text("You email is not valid format"),n.addClass("animated shake"),void setTimeout(function(){n.removeClass("animated shake")},1e3)):o.click()})},2e3))):(console.log("Spin A Sale is Disable"),console.log(error))},error:function(e){console.log("Error in Spin A Sale requestTest"),console.log(e)}})},(s=document.createElement("script")).type="text/javascript",s.src=e,"function"==typeof t&&s.addEventListener("load",t),document.getElementsByTagName("head")[0].appendChild(s)},1e3)}();
