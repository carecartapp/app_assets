!function(){var e,t,r=new Date,n=(r.getSeconds(),"https://tracking-app-sas.carecart.io/"),o="https://cdn.jsdelivr.net/gh/carecartapp/app_assets@1.6.1/",a=!1;function i(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}e=o+"front-store-spinner.css?v=1.5.7",(t=document.createElement("link")).href=e,t.type="text/css",t.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(t),setTimeout(function(){var e,t,s;e=o+"spinner.js?v=1.5.7",t=function(){function e(){var e,t,r,n,o,a,i,s,c,l,u,d,p,h,m,g,f,w,y,S,b,v,C,T,x,A,_,E,q,J,k,I,N,D,M,O,F,P,B,z,R,W,j,G,Y="http://www.w3.org/2000/svg",L="http://www.w3.org/1999/xlink",V=function(e){return document.querySelector(e)},U=this,H=V(".wheelSVG"),X=V(".wheel"),$=V(".wheelOutline"),Z=V(".wheelContainer"),K=V(".peg"),Q=V(".pegContainer"),ee=V(".mainContainer"),te=V(".valueContainer"),re=V(".centerCircle"),ne=V(".toast"),oe=V(".toast p"),ae=0,ie=0,se=2,ce=0,le=0,ue=le,de=[],pe=null,he=[],me=!0,ge=null,fe=!1,we=function(){n=e.wheelStrokeColor,a=e.wheelSize,i=a/2,s=e.wheelTextColor,n=e.wheelStrokeColor,o=e.wheelStrokeWidth,c=e.wheelTextOffsetY,l=e.wheelImageOffsetY,d=e.wheelImageSize,u=e.wheelTextSize,m=e.centerCircleStrokeColor,g=e.centerCircleStrokeWidth,f=e.centerCircleFillColor,w=e.centerCircleSize,y=w/2,S=e.segmentStrokeColor,b=e.segmentStrokeWidth,v=e.segmentValuesArray,C=v.length,T=-1==e.numSpins?1e16:parseInt(e.numSpins),k=e.minSpinDuration,I=e.gameOverText,N=e.invalidSpinText,D=e.introText,O=e.hasSound,M=e.gameId,P=e.clickToSpin,A=(x=360/C)/2,E=e.centerX,q=e.centerY,J=e.colorArray,F=e.hasShadows,j=e.spinDestinationArray,F&&($.setAttributeNS(null,"filter","url(#shadow)"),te.setAttributeNS(null,"filter","url(#shadow)"),re.setAttributeNS(null,"filter","url(#shadow)"),Q.setAttributeNS(null,"filter","url(#shadow)"),ne.style.boxShadow="0px 0px 20px rgba(21,21,21,0.5)")},ye=function(){TweenMax.set("#spin_a_sale_cc_store_front_module svg",{visibility:"visible"}),TweenMax.set(X,{svgOrigin:E+" "+q,x:0,y:0}),TweenMax.set(K,{x:E-K.getBBox().width/2,y:q-i-K.getBBox().height/2,transformOrigin:"50% 25%",visibility:"visible"}),TweenMax.set(Q,{transformOrigin:"50% 100%",scale:a/600}),TweenMax.set(ee,{svgOrigin:E+" "+q,rotation:-90,x:0,y:0}),TweenMax.set([ne],{xPercent:-50,left:"50%"}),TweenMax.set("#spin_a_sale_cc_store_front_module svg",{xPercent:-50,left:"50%"})},Se=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},be=function(){for(var e=0;e<C;e++){var t=document.createElementNS(Y,"line");t.setAttributeNS(null,"x1",E),t.setAttributeNS(null,"x2",de[e].x2),t.setAttributeNS(null,"y1",q),t.setAttributeNS(null,"y2",de[e].y2),t.setAttributeNS(null,"stroke",S),t.setAttributeNS(null,"stroke-width",b),X.appendChild(t),TweenMax.set(t,{svgOrigin:E+" "+q,rotation:e*x})}},ve=function(){var e=document.createElementNS(Y,"g"),t=document.createElementNS(Y,"image");e.appendChild(t),t.setAttribute("class","wheelLogo"),t.setAttributeNS(null,"x",E-60),t.setAttributeNS(null,"y",q-60),t.setAttributeNS(L,"xlink:href","https://sw.secomapp.com/img/app_icon.png"),t.setAttributeNS(null,"width",120),t.setAttributeNS(null,"height",120),te.appendChild(e);for(var r=0;r<C;r++){var n=document.createElementNS(Y,"g");if("image"==v[r].type)t=document.createElementNS(Y,"image"),n.appendChild(t),t.setAttribute("class","wheelImage"),t.setAttributeNS(null,"x",E-d/2),t.setAttributeNS(null,"y",q-i+l),t.setAttributeNS(null,"width",d),t.setAttributeNS(null,"height",d),t.setAttributeNS(L,"xlink:href",v[r].value);else if("string"==v[r].type){var o,a,p=document.createElementNS(Y,"text");v[r].value.split("^").forEach(function(e,t){o=document.createTextNode(e),(a=document.createElementNS(Y,"tspan")).setAttributeNS(null,"dy",t?"1.2em":0),a.setAttributeNS(null,"x",E),a.setAttributeNS(null,"text-anchor","middle"),a.appendChild(o),p.appendChild(a)}),n.appendChild(p),p.setAttribute("class","wheelText"),p.setAttributeNS(null,"fill",s),p.setAttributeNS(null,"x",E),p.setAttributeNS(null,"y",q-i+c),p.setAttributeNS(null,"transform","rotate(-90, 590, -2)"),p.setAttributeNS(null,"text-anchor","middle"),p.style.fontSize=u}te.appendChild(n),TweenMax.set(n,{svgOrigin:E+" "+q,rotation:r*x})}TweenMax.set(te,{svgOrigin:E+" "+q})},Ce=function(){var e=document.createElementNS(Y,"g"),t=document.createElementNS(Y,"circle");return $.appendChild(e),t.setAttributeNS(null,"fill","transparent"),t.setAttributeNS(null,"stroke",n),t.setAttributeNS(null,"stroke-width",o),t.setAttributeNS(null,"cx",E),t.setAttributeNS(null,"cy",q),t.setAttributeNS(null,"r",i),e.appendChild(t),e},Te=function(){null.play()},xe=function(){ne.style.visibility="hidden"},Ae=function(){ne.style.visibility="hidden",pe.onclick=null,se+=2},_e=function(){disableWheel(),me&&(W=VelocityTracker.track(X,"rotation"))},Ee=function(e){if(_=ae,(ae=Math.round(X._gsTransform.rotation/x))!=_){var t=ae>_?-35:35;TweenMax.fromTo(K,.2,{rotation:t},{onStart:O?Te:null,rotation:0,ease:Back.easeOut})}TweenMax.set(te,{rotation:X._gsTransform.rotation})},qe=function(){h=X._gsTransform.rotation;var e=Math.round(h%360);if(e=(e=e>0?360-e:e)<0?e*=-1:e,W&&W.getVelocity("rotation")<=.5)return enableWheel(),void showResult("invalidSpin");var t=Math.round(e/x);if(de[t].path,showResult(Math.abs(t)),me){if(!(T>-1))return;ie++}else ie++,p[0].vars.snap=[j[ie]];VelocityTracker.untrack(X),ie>=T?endGame():enableWheel()},Je=function(){var e;p=Draggable.create(X,{type:"rotation",bounds:{minRotation:-1e16,maxRotation:0},throwProps:!0,ease:Back.easeOut.config(.2),snap:me?(e=0,function(t){return Math.round(t/x)*x-e}):[j[ie]],throwResistance:0,minDuration:k,onThrowComplete:qe,onPress:xe,onDrag:Ee,onThrowUpdate:Ee,overshootTolerance:1,onDragEnd:_e})},ke=function(){var e=0;v.forEach(function(t,r){e+=t.probability}),G=e,Math.ceil(e)==G||Math.floor(e)==G?createProbabilityArray():1==confirm("Total probability: "+e+" - If you have set JSON probability values they must add up to 100")&&(TweenMax.set(Z,{autoAlpha:0}),TweenMax.set(Z,{autoAlpha:0}))};createProbabilityArray=function(){ge=[],v.forEach(function(e,t){for(var r=0;r<e.probability;r++)ge.push(t)})},showProbabilityError=function(){},createClickToSpin=function(){fe=!0,v.forEach(function(e,t){isNaN(e.probability)&&(fe=!1)}),void(fe&&(j=[],T=-1==e.numSpins?1e16:parseInt(e.numSpins),ke()))&&createProbabilityArray(),pe?pe.onclick=getTrigger():(pe=X,X.onclick=getTrigger())},getTrigger=function(){return function(){var e,t;fe?ThrowPropsPlugin.to(X,{throwProps:{rotation:{velocity:Se(-700,-500),end:(e=Math.floor(Math.random()*ge.length),t=ge[e],-x*t-1080*se)}},onStart:Ae,onUpdate:Ee,ease:Back.easeOut.config(.2),overshootTolerance:0,onComplete:spinComplete}):ThrowPropsPlugin.to(X,{throwProps:{rotation:{velocity:Se(-700,-500),end:me?-x*Se(0,C)-1080*se:[j[ie]]}},onStart:Ae,onUpdate:Ee,ease:Back.easeOut.config(.2),overshootTolerance:0,onComplete:spinComplete})}},spinComplete=function(){h=X._gsTransform.rotation;var e=Math.round(h%360);e=(e=e>0?360-e:e)<0?e*=-1:e;var t=Math.round(e/x);if(de[t].path,showResult(Math.abs(t)),me){if(!(T>-1))return;ie++}else ie++;ie>=T?endGame():pe.onclick=getTrigger()},endGame=function(){disableWheel(),TweenMax.set(H,{alpha:.3}),TweenMax.to(oe,1,{text:I,ease:Linear.easeNone,delay:2}),z({gameId:M,target:U,results:he})},disableWheel=function(){P||p[0].disable()},enableWheel=function(){P||p[0].enable()},showResult=function(e){var t;if(P||p[0].applyBounds({minRotation:-1e16,maxRotation:h}),"invalidSpin"==e)return TweenMax.set(X,{rotation:j[ie]}),showToast(N),R(t={target:U,type:"error",spinCount:ie,win:null,msg:N,gameId:M}),void he.push(t);if(!isNaN(e)){var r=v[e].resultText;showToast(r),t={target:U,type:"result",spinCount:ie,win:v[e].win,msg:v[e].resultText,gameId:M,userData:v[e].userData},B(t),he.push(t)}},showIntroText=function(e){showToast(D)},showInitError=function(e){TweenMax.set([H,K],{visibility:"hidden"}),alert(e)},showToast=function(e){ne.style.visibility="visible",ne.style.backgroundColor="#E81D62",oe.innerHTML=e,TweenMax.fromTo(ne,.6,{y:20,alpha:0},{y:0,alpha:1,delay:.2,onStart:onresize,ease:Elastic.easeOut.config(.7,.7)})},checkNumSegments=function(){C<=1&&(showInitError("Not enough segments. Please add more entries to segmentValuesArray"),TweenMax.set(H,{visibility:"hidden"}),ne.style.backgroundColor="red")},setSpinTrigger=function(){pe&&(P=!0),P&&(pe?pe.onclick=getTrigger():X.onclick=getTrigger())},B=function(e){U.onResult(e)},R=function(e){U.onError(e)},z=function(e){U.onGameEnd(e)},this.onResult=B,this.onError=R,this.onGameEnd=z,this.getGameProgress=function(){return he},this.init=function(n){if(!n)return ye(),void showInitError("PLEASE INCLUDE THE INIT OBJECT");t=n.data.svgWidth,r=n.data.svgHeight,H.setAttribute("viewBox","0 0 "+t+" "+n.data.svgHeight),e=n.data,z=n.onGameEnd?n.onGameEnd:function(){},B=n.onResult?n.onResult:function(){},R=n.onError?n.onError:function(){},pe=n.spinTrigger?n.spinTrigger:null,setSpinTrigger(),we(),ye(),function(){for(var e,t,r,n,o,a,s,c,l=0;l<C;l++)ue=(le=-A)+x,e=E+i*Math.cos(Math.PI*le/180),r=q+i*Math.sin(Math.PI*le/180),t=E+i*Math.cos(Math.PI*ue/180),n=q+i*Math.sin(Math.PI*ue/180),o="M"+E+","+q+"  L"+e+","+r+"  A"+i+","+i+" 0 0,1 "+t+","+n+"z",s=document.createElementNS(Y,"g"),a=document.createElementNS(Y,"path"),s.appendChild(a),X.appendChild(s),TweenMax.set(a,{rotation:l*x,svgOrigin:E+" "+q}),a.setAttributeNS(null,"d",o),J[l]?c=J[l]:(c=J[ce],++ce==J.length&&(ce=0)),a.setAttributeNS(null,"fill",c),a.setAttributeNS(null,"stroke",0),de.push({path:a,x1:e,x2:t,y1:r,y2:n});b>0&&be(),ve()}(),$.appendChild(Ce()),re.appendChild(function(){var e=document.createElementNS(Y,"circle");return e.setAttributeNS(null,"fill",f),e.setAttributeNS(null,"stroke",m),e.setAttributeNS(null,"stroke-width",g),e.setAttributeNS(null,"cx",E),e.setAttributeNS(null,"cy",q),e.setAttributeNS(null,"r",y),e}()),function(){if(0!=T){if(!fe){if(j.length>0){me=!1,T=j.length;for(var e=0;e<j.length;e++){if(j[e]>C||0===j[e])return showInitError("Invalid destination set - please ensure the destination in spinDestinationArray is greater than 0 and less than or equal to the number of segments"),void(ne.style.backgroundColor="red");j[e]=j[e]-1,j[e]=-1*j[e]*x-1080*se,se+=2}}P?createClickToSpin():Je(),showIntroText()}}else showInitError("numSpins MUST BE GREATER THAN 0")}(),checkNumSegments()},window.onresize=function(){var e=q-r/2,t=(parseFloat(getComputedStyle(H).width),parseFloat(getComputedStyle(H).height)),n=(parseFloat(getComputedStyle(ne).width),parseFloat(getComputedStyle(ne).height));TweenMax.set(".toast",{y:(t+e)/2-n/2})},this.restart=function(){P||(p[0].kill(),ae=_=null,TweenMax.to([X,te],.3,{rotation:"0_short",onComplete:Je})),TweenMax.set(H,{alpha:1}),TweenMax.to([X,te],.3,{rotation:"0_short"}),ne.style.visibility="hidden",ie=0,se=2,he=[],showIntroText()}}function t(e){var t=carecartJquery(".winContainer"),r=carecartJquery(".loseContainer"),o=carecartJquery(".signupContainer"),a=carecartJquery(".win_text"),i=carecartJquery(".coupon");!function(e=null,t=null){var r=carecartJquery("#cc-spinner-full-name").val(),o=carecartJquery("#cc-spinner-email").val(),a=1==carecartJquery("#cc-spin-a-sale-consent-checkbox").prop("checked")?"consent_accepted":"consent_rejected",i={name:r,email:o,isConsent:a,couponUsed:e,winResult:t};console.log(i),carecartJquery.ajax({url:n+"store-front-api/post-customer-information",type:"POST",data:{shop:Shopify.shop,customerInformation:i},crossDomain:!0,dataType:"json",success:function(e){e.result&&(d(),console.log("User information is post successfully"),console.log(error))},error:function(e){console.log("Error in impression post"),console.log(e)}})}(e.results[0].userData.coupon,e.results[0].msg),window.localStorage.setItem("cc-sas-spinner-cached-coupon-code",e.results[0].userData.coupon),window.localStorage.setItem("cc-sas-spinner-cached-coupon-code-message",e.results[0].msg),e.results[0].userData.coupon?(o.fadeOut(),a.text(e.results[0].msg),i.text(e.results[0].userData.coupon),t.find("input").val(e.results[0].userData.coupon),t.css({paddingTop:(carecartJquery(window).height()-t.height())/2}),carecartJquery(window).resize(function(){t.css({})}),t.fadeIn()):(o.fadeOut(),a.text(e.results[0].msg),t.css({paddingTop:(carecartJquery(window).height()-t.height())/2}),carecartJquery(window).resize(function(){t.css({})}),r.fadeIn())}function o(e){var t=carecartJquery(".winContainer"),r=carecartJquery(".loseContainer"),n=carecartJquery(".signupContainer"),o=carecartJquery(".win_text"),a=carecartJquery(".coupon");e.results[0].userData.coupon?(n.fadeOut(),o.text(e.results[0].msg),a.text(e.results[0].userData.coupon),t.find("input").val(e.results[0].userData.coupon),t.css({paddingTop:(carecartJquery(window).height()-t.height())/2}),carecartJquery(window).resize(function(){t.css({})}),t.fadeIn()):(n.fadeOut(),o.text(e.results[0].msg),t.css({paddingTop:(carecartJquery(window).height()-t.height())/2}),carecartJquery(window).resize(function(){t.css({})}),r.fadeIn())}function s(e){return!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function c(r=""){var o;r&&"triggered"==r?carecartJquery("body").find("#spin_a_sale_cc_store_front_module").fadeIn():u()&&carecartJquery("body").find("#spin_a_sale_cc_store_front_module").fadeIn(),o=document.querySelector(".btn-submit-form-ok"),(new e).init({data:a,onGameEnd:t,spinTrigger:o}),function(){function e(){var e=carecartJquery(window).width();e<680&&(t.css({width:"100%",padding:0}),r.css({width:"100%",padding:0}),n.css({width:"100%",position:"fixed",bottom:"-30%",left:0,right:0,transform:"translate(-51%)"}),o.css({width:"100%",transform:"translateX(0)"}),a.css({maxWidth:"370"})),e<400&&n.css({bottom:"-23%"}),e>=680&&t.css({paddingTop:(carecartJquery(window).height()-t.height())/2})}var t=carecartJquery(".signupContainer"),r=carecartJquery(".winContainer"),n=carecartJquery(".wheelContainer"),o=carecartJquery(".wheelSVG"),a=carecartJquery(".form-group input"),i=carecartJquery(".btn-submit-form"),c=carecartJquery("#cc-spinner-full-name"),l=carecartJquery("#cc-spinner-email"),u=carecartJquery("input[name='coupon']");carecartJquery(".copy-button").click(function(){clipboard.writeText(u.val()),carecartJquery(this).html('<i class="fa fa-clone" aria-hidden="true"></i> Copied')}),e(),carecartJquery(window).resize(function(){e()}),i.click(function(e){e.preventDefault();var t=c.val(),r=l.val(),n=carecartJquery(".textInfo"),o=(carecartJquery(".btn-submit-form"),carecartJquery(".btn-submit-form-ok"));return n.text(""),""==t?(n.text("You should provide your fullname!"),n.addClass("animated shake"),void setTimeout(function(){n.removeClass("animated shake")},1e3)):""==r?(n.text("You should provide your email"),n.addClass("animated shake"),void setTimeout(function(){n.removeClass("animated shake")},1e3)):s(r)?(n.text("Your email is not valid format"),n.addClass("animated shake"),void setTimeout(function(){n.removeClass("animated shake")},1e3)):o.click()})}(),function(){const e=window.localStorage.getItem("cc-sas-spinner-impressions-info-cached-time");console.log("prevTime impressions cache : "+e);var t=parseInt(e)+6e5;if(null!=e)return console.log(e+"asdasdas"+t+"dsdad"+Date.now()),t<=Date.now();return!0}()&&carecartJquery.ajax({url:n+"store-front-api/post-impression-information",type:"POST",data:{shop:Shopify.shop,postImpression:"postImpression"},crossDomain:!0,dataType:"json",success:function(e){window.localStorage.setItem("cc-sas-spinner-impressions-info-cached-time",Date.now()),console.log("postImpressionsInfo cache updated"),e.result&&(console.log("Impression is post successfully"),console.log(error))},error:function(e){console.log("Error in impression post"),console.log(e)}})}function l(e){console.log("SAS AJAX Success "),e&&e._metadata&&e._metadata.outcome&&"SUCCESS"==e._metadata.outcome?(console.log("SAS Success Response"),e.records&&e.records.store_settings&&e.records.store_settings.is_active&&(console.log("SAS is active"),e.records.store_front_template&&(console.log("SAS front template exist"),carecartJquery("body").append(e.records.store_front_template),e.records.store_settings.settings_data.is_triggered_enable&&1==parseInt(e.records.store_settings.settings_data.is_triggered_enable)&&carecartJquery("body").append(e.records.store_front_trigger_button),setTimeout(function(){a={colorArray:["#364C62","#F1C40F","#E67E22","#E74C3C","#95A5A6","#16A085","#27AE60","#2980B9","#8E44AD","#2C3E50","#F39C12","#D35400","#C0392B","#1ABC9C","#2ECC71","#E87AC2","#3498DB","#9B59B6","#7F8C8D"],segmentValuesArray:e.records.store_slices,svgWidth:1024,svgHeight:768,wheelStrokeColor:"#D0BD0C",wheelStrokeWidth:20,wheelSize:1024,wheelTextOffsetY:60,wheelTextColor:"#FFFFFF",wheelTextSize:"30px",wheelImageOffsetY:100,wheelImageSize:200,centerCircleSize:220,centerCircleStrokeColor:"#F1DC15",centerCircleStrokeWidth:12,centerCircleFillColor:"#EDEDED",segmentStrokeColor:"#E2E2E2",segmentStrokeWidth:3,centerX:512,centerY:384,hasShadows:!0,numSpins:1,spinDestinationArray:[],minSpinDuration:6,gameOverText:"",invalidSpinText:"INVALID SPIN. PLEASE SPIN AGAIN.",introText:"",hasSound:!1,gameId:"9a0232ec06bc431114e2a7f3aea03bbe2164f1aa",clickToSpin:!0}},500),setTimeout(function(){c("auto")},1e3*parseInt(e.records.store_settings.settings_data.delay_time))))):console.log("Spin A Sale is Disable")}function u(){var e=window.localStorage.getItem("cc-sas-spinner-cached-time");if(null!=e){var t=new Date,r=new Date(e),n=parseInt(t-r),o=parseInt(Math.floor(n/6e4));if(console.log(" Time : "+o),o<=30)return!1}return!0}function d(){var e=new Date;window.localStorage.setItem("cc-sas-spinner-cached-time",e)}i("cc-show-spin-a-sale-test")||(!function(){var e=window.localStorage.getItem("cc-sas-spinner-ajax-cached-time"),t=window.localStorage.getItem("cc-sas-spinner-ajax-cached-data");if(null!=e&&null!=t){console.log("Settings cached data exist ");var n=new Date(e),o=parseInt(r-n),a=parseInt(Math.floor(o/6e4));if(console.log("Settings cached Time : "+a),a<=30)return console.log("Get settings from cached data"),console.log("Remaining time: "+(30-a)),!0}return!1}()?carecartJquery.ajax({url:n+"store-front-api/get-store-information",type:"GET",data:{shop:Shopify.shop},crossDomain:!0,contentType:"application/json",dataType:"json",success:function(e){window.localStorage.setItem("cc-sas-spinner-ajax-cached-time",r),window.localStorage.setItem("cc-sas-spinner-ajax-cached-data",JSON.stringify(e)),l(e)},error:function(e){console.log("Error in Spin A Sale request"),console.log(e)}}):(console.log("In Cached Data:"),l(JSON.parse(window.localStorage.getItem("cc-sas-spinner-ajax-cached-data"))))),carecartJquery("body").on("click","#spin_a_sale_cc_store_front_module_close_button",function(){i("cc-show-spin-a-sale-test")||d(),carecartJquery("body").find("#spin_a_sale_cc_store_front_module").fadeOut()}),carecartJquery("body").on("click","#spin-trigger-cc",function(){if(c("triggered"),!u()){var e=carecartJquery(".winContainer"),t=carecartJquery(".wheelContainer"),r=carecartJquery(".loseContainer"),n=carecartJquery(".signupContainer"),o=carecartJquery(".win_text"),a=carecartJquery(".coupon"),i=window.localStorage.getItem("cc-sas-spinner-cached-coupon-code"),s=window.localStorage.getItem("cc-sas-spinner-cached-coupon-code-message");if(i&&s)return i?(n.fadeOut(),o.text(s),a.text(i),e.find("input").val(i),e.css({paddingTop:(carecartJquery(window).height()-e.height())/2}),carecartJquery(window).resize(function(){e.css({})}),e.fadeIn(),t.css("opacity","0.3")):(n.fadeOut(),o.text(s),e.css({paddingTop:(carecartJquery(window).height()-e.height())/2}),carecartJquery(window).resize(function(){e.css({})}),r.fadeIn()),void carecartJquery("body").find("#spin_a_sale_cc_store_front_module").fadeIn()}}),i("cc-show-spin-a-sale-test")&&carecartJquery.ajax({url:n+"store-front-api/get-store-information",type:"GET",data:{shop:Shopify.shop,type:"test_spinner"},crossDomain:!0,contentType:"application/json",dataType:"json",success:function(t){console.log("SAS test on store Success "),t&&t._metadata&&t._metadata.outcome&&"SUCCESS"==t._metadata.outcome?(console.log("SAS TEST Success Response"),t.records.store_front_template&&(console.log("SAS front template exist"),carecartJquery("body").append(t.records.store_front_template),setTimeout(function(){a={colorArray:["#364C62","#F1C40F","#E67E22","#E74C3C","#95A5A6","#16A085","#27AE60","#2980B9","#8E44AD","#2C3E50","#F39C12","#D35400","#C0392B","#1ABC9C","#2ECC71","#E87AC2","#3498DB","#9B59B6","#7F8C8D"],segmentValuesArray:t.records.store_slices,svgWidth:1024,svgHeight:768,wheelStrokeColor:"#D0BD0C",wheelStrokeWidth:20,wheelSize:1024,wheelTextOffsetY:60,wheelTextColor:"#FFFFFF",wheelTextSize:"30px",wheelImageOffsetY:100,wheelImageSize:200,centerCircleSize:220,centerCircleStrokeColor:"#F1DC15",centerCircleStrokeWidth:12,centerCircleFillColor:"#EDEDED",segmentStrokeColor:"#E2E2E2",segmentStrokeWidth:3,centerX:512,centerY:384,hasShadows:!0,numSpins:1,spinDestinationArray:[],minSpinDuration:6,gameOverText:"",invalidSpinText:"INVALID SPIN. PLEASE SPIN AGAIN.",introText:"",hasSound:!1,gameId:"9a0232ec06bc431114e2a7f3aea03bbe2164f1aa",clickToSpin:!0},carecartJquery("body").find("#spin_a_sale_cc_store_front_module").show(1e3);var r=document.querySelector(".btn-submit-form-ok");function n(){var e=carecartJquery(window).width();e<680&&(i.css({width:"100%",padding:0}),c.css({width:"100%",padding:0}),l.css({width:"100%",position:"fixed",bottom:"-30%",left:0,right:0,transform:"translate(-51%)"}),u.css({width:"100%",transform:"translateX(0)"}),d.css({maxWidth:"370"})),e<400&&l.css({bottom:"-23%"}),e>=680&&i.css({paddingTop:(carecartJquery(window).height()-i.height())/2})}(new e).init({data:a,onGameEnd:o,spinTrigger:r});var i=carecartJquery(".signupContainer"),c=carecartJquery(".winContainer"),l=carecartJquery(".wheelContainer"),u=carecartJquery(".wheelSVG"),d=carecartJquery(".form-group input"),p=carecartJquery(".btn-submit-form"),h=carecartJquery("#cc-spinner-full-name"),m=carecartJquery("#cc-spinner-email"),g=carecartJquery("input[name='coupon']");carecartJquery(".copy-button").click(function(){clipboard.writeText(g.val()),carecartJquery(this).html('<i class="fa fa-clone" aria-hidden="true"></i> Copied')}),n(),carecartJquery(window).resize(function(){n()}),p.click(function(e){e.preventDefault();var t=h.val(),r=m.val(),n=carecartJquery(".textInfo"),o=(carecartJquery(".btn-submit-form"),carecartJquery(".btn-submit-form-ok"));return""==t?(n.text("You should provide your fullname!"),n.addClass("animated shake"),void setTimeout(function(){n.removeClass("animated shake")},1e3)):""==r?(n.text("You should provide your email"),n.addClass("animated shake"),void setTimeout(function(){n.removeClass("animated shake")},1e3)):s(r)?(n.text("You email is not valid format"),n.addClass("animated shake"),void setTimeout(function(){n.removeClass("animated shake")},1e3)):o.click()})},2e3))):(console.log("Spin A Sale is Disable"),console.log(error))},error:function(e){console.log("Error in Spin A Sale requestTest"),console.log(e)}})},(s=document.createElement("script")).type="text/javascript",s.src=e,"function"==typeof t&&s.addEventListener("load",t),document.getElementsByTagName("head")[0].appendChild(s)},1e3)}();
